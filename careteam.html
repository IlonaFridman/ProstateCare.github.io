<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Healthcare Team — Plan Your Care Together</title>
<style>
  :root{
    --bg:#ffffff; --ink:#0f172a; --muted:#475569; --line:#d1d5db; --chip:#eff6ff;
    --cta0:#6ea2cf; --cta1:#588fbe; --shadow:0 12px 28px rgba(2,8,23,.10), 0 4px 10px rgba(2,8,23,.08);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0;background:var(--bg);color:var(--ink);font:18px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial}
  a{color:#2563eb;text-decoration:underline}

  .home-icon{
    position:fixed;left:16px;top:16px;z-index:1000;width:52px;height:52px;border-radius:18px;
    display:inline-flex;align-items:center;justify-content:center;background:#fff;border:1px solid #d6dee7;box-shadow:0 16px 26px rgba(2,8,23,.14);text-decoration:none;
  }
  .home-icon svg{width:26px;height:26px;fill:#2b3a4c}

  .container{max-width:1200px;margin:32px auto 64px;padding:0 20px}
  header{margin:16px 0 20px;text-align:center}
  h1{margin:0;font-size:32px}
  .eyebrow{color:var(--muted);font-size:14px;margin-top:6px}
  .subtitle{font-size:20px;color:#3b82f6;margin-top:8px}

  .top-cta{
    position:fixed;right:16px;top:16px;z-index:999;display:inline-flex;align-items:center;gap:8px;
    padding:10px 14px;border-radius:999px;border:1px solid #c7d9ea;background:linear-gradient(0deg,var(--cta0),var(--cta1));
    color:#fff;text-decoration:none;font-weight:700;box-shadow:var(--shadow);white-space:nowrap;
  }

  .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:24px}
  .card{background:#fff;border:1px solid var(--line);border-radius:18px;box-shadow:0 4px 12px rgba(2,8,23,.06);padding:18px}
  .card__head{display:flex;align-items:center;gap:14px;margin-bottom:8px}
  .card__icon{width:44px;height:44px;border-radius:12px;flex:0 0 44px;display:grid;place-items:center;background:#f1f5f9;border:1px solid #e5e7eb;overflow:hidden}
  .card__icon img{width:100%;height:100%;object-fit:cover;display:block}
  .card h2{margin:0;font-size:20px;line-height:1.2}
  .pill{display:inline-block;margin-top:8px;padding:4px 10px;border-radius:999px;font-size:13px;background:var(--chip);border:1px solid #dbeafe;color:#1d4ed8}
  .divider{height:1px;background:#e5e7eb;margin:12px 0}
  .list{margin:0;padding-left:20px}.list li{margin:6px 0}
  .tight{margin:0;padding:0;list-style:none}.tight li{margin:4px 0}
  .meta{color:var(--muted);font-size:14px}

  .actions{display:flex;flex-wrap:wrap;gap:10px;margin-top:22px;justify-content:center}
  .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:12px 16px;border-radius:12px;border:1px solid #c7d9ea;background:#fff;color:var(--ink);text-decoration:none;box-shadow:var(--shadow);font-weight:600}
  .btn.primary{background:linear-gradient(0deg,var(--cta0),var(--cta1));color:#fff;border-color:#c7d9ea}
</style>
</head>
<body>
<a class="home-icon" href="./home.html" aria-label="Home">
  <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 3l9 8h-3v9h-5v-6H11v6H6v-9H3l9-8z"/></svg>
</a>

<div id="page-root" class="container">
  <header>
    <h1>Healthcare Team: Plan Your Care Together</h1>
    <div class="eyebrow">Who should participate in my care?</div>
    <div class="subtitle">Cancer Care and Coping Services</div>
  </header>

  <section class="cards" aria-label="Healthcare team cards">
    <!-- Card 1 -->
    <article class="card" aria-label="Doctors who develop the treatment plan">
      <div class="card__head">
        <div class="card__icon">
          <!-- SAME-ORIGIN RELATIVE PATHS -->
          <img loading="lazy" decoding="async" crossorigin="anonymous"
               src="./diagnosis/Patient%20and%20a%20doctor.png"
               alt="Doctors speaking with a patient">
        </div>
        <div>
          <h2>Main Oncology Doctors</h2><span class="pill">Treatment Team</span>
        </div>
      </div>
      <div class="divider"></div>
      <ul class="list">
        <li><strong>Surgeons</strong> perform prostatectomy.</li>
        <li><strong>Radiation oncologists</strong> provide radiation therapy.</li>
        <li><strong>Medical oncologists</strong> manage chemotherapy and hormone therapy.</li>
      </ul>
    </article>

    <!-- Card 3 -->
    <article class="card" aria-label="Healthcare professionals who support your care">
      <div class="card__head">
        <div class="card__icon">
          <img loading="lazy" decoding="async" crossorigin="anonymous"
               src="./aftertreatment/Patientdoctor.png"
               alt="Healthcare professionals supporting care">
        </div>
        <div>
          <h2>Healthcare Professionals</h2><span class="pill">Support Team</span>
        </div>
      </div>
      <div class="divider"></div>
      <ul class="list">
        <li><strong>Advanced practice providers</strong> assist with managing prescriptions, tests, side effects, and procedures.</li>
        <li><strong>Nurse navigators</strong> support your care by reducing financial or transportation barriers, offering education, and linking you to other resources.</li>
        <li><strong>Research nurses</strong> screen patients, collect data, and monitor trial-specific side effects.</li>
      </ul>
    </article>

    <!-- Card 4 -->
    <article class="card" aria-label="Cancer Care and Coping">
      <div class="card__head">
        <div class="card__icon">
          <img loading="lazy" decoding="async" crossorigin="anonymous"
               src="./choosingtreatment/choosingtreatment.png"
               alt="Discussing treatment choices">
        </div>
        <div>
          <h2>Cancer Care &amp; Coping</h2><span class="pill">and Support Services</span>
        </div>
      </div>
      <div class="divider"></div>

      <h3 style="margin:.25rem 0 .5rem 0;font-size:16px">Support groups in the HMH System</h3>
      <ul class="tight">
        <li>Hackensack University Medical Center | 92 Second Street | 3rd Wed. 10am | Joe Cavalli or Bob Harvey<br/>
          <span class="meta">201-288-8223 or 201-357-4030</span>, <a href="mailto:joendebcav@optonline.net">joendebcav@optonline.net</a>
        </li>
      </ul>

      <div class="divider"></div>
      <h3 style="margin:.25rem 0 .5rem 0;font-size:16px">Nutrition</h3>
      <ul class="tight"><li>Kanisha Parikh: <span class="meta">551-996-2875</span></li></ul>
      <ul class="tight"><li>Taylor Carlyle: <span class="meta">551-996-5888</span></li></ul>

      <div class="divider"></div>
      <h3 style="margin:.25rem 0 .5rem 0;font-size:16px">Social Work</h3>
      <ul class="tight">
        <li>Jane Watson, LCSW: <span class="meta">551-996-2599</span>, <a href="mailto:Jane.Watson@hmhn.org">Jane.Watson@hmhn.org</a></li>
      </ul>

      <div class="divider"></div>
      <h3 style="margin:.25rem 0 .5rem 0;font-size:16px">Financial Counseling</h3>
      <ul class="tight">
        <li>Karen Venezia — <span class="meta">551-996-1855</span>, <a href="mailto:Karen.Venezia@hmhn.org">Karen.Venezia@hmhn.org</a></li>
      </ul>
    </article>

    <!-- Card 5 -->
    <article class="card" aria-label="Integrative Care Services">
      <div class="card__head">
        <div class="card__icon">
          <img loading="lazy" decoding="async" crossorigin="anonymous"
               src="./complementary/Patientdoctor.png"
               alt="Integrative care visit">
        </div>
        <div>
          <h2>Integrative Care Services</h2><span class="pill">HMH Integrative Therapy</span>
        </div>
      </div>
      <div class="divider"></div>
      <p><strong>HMH Main Line:</strong> 844-HMH-WELL</p>
      <p><strong>HMH – Integrative Health &amp; Medicine – Red Bank</strong><br/>1 Riverview Plaza, Floor 2, Red Bank, NJ 07701<br/>Phone: 732-263-7999</p>
      <p><strong>HMH – Integrative Health &amp; Medicine – Neptune</strong><br/>HOPE Tower at Jersey Shore University Medical Center<br/>19 Davis Avenue, First Floor, Neptune, NJ 07753<br/>Phone: 732-263-7999</p>
    </article>
  </section>

  <div class="actions">
    <a id="btn-download" class="btn" href="#" role="button">Download as PDF</a>
    <a id="btn-print" class="btn" href="#" role="button">Print</a>
    <a class="btn primary" href="./home.html">Back to Home</a>
  </div>
</div>

<!-- html2canvas + jsPDF bundle -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-YcsIPQn0oW7n5OJi2Un9mG8qDT4Q6Goy5iEw1s8DmA4k4xk1b4n1Qp2pF6wQbBv1a3h+8rI1H0cQn9q4O3rXrQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
  // A4 constants
  const A4 = { w:210, h:297 }; // mm
  const MARGIN = 10;            // mm
  const PX_TO_MM = 0.264583;    // 96dpi -> mm

  function waitForImages(scope=document){
    const imgs = Array.from(scope.querySelectorAll('img'));
    return Promise.all(imgs.map(img => (
      img.complete ? Promise.resolve() :
      new Promise(res => { img.onload = res; img.onerror = res; })
    )));
  }

  async function renderToPdfBlob(){
    await waitForImages(document);
    const root = document.getElementById('page-root');
    const canvas = await window.html2canvas(root, {
      scale: 2,
      useCORS: true,
      allowTaint: false,
      backgroundColor: '#ffffff',
      logging: false
    });

    const imgData = canvas.toDataURL('image/jpeg', 0.95);
    const { jsPDF } = window.jspdf;
    const pdf = new jsPDF({ unit: 'mm', format: 'a4', orientation: 'portrait' });

    const pageW = A4.w - 2*MARGIN;
    const pageH = A4.h - 2*MARGIN;

    const imgWmm = canvas.width * PX_TO_MM;
    const imgHmm = canvas.height * PX_TO_MM;

    const ratio = Math.min(pageW / imgWmm, pageH / imgHmm);
    const drawW = imgWmm * ratio;
    const drawH = imgHmm * ratio;

    const x = (A4.w - drawW) / 2;
    const y = (A4.h - drawH) / 2;

    pdf.addImage(imgData, 'JPEG', x, y, drawW, drawH, undefined, 'FAST');
    return pdf.output('blob');
  }

  async function downloadPdf(){
    try{
      const blob = await renderToPdfBlob();
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'healthcare-team.pdf';
      document.body.appendChild(a);
      a.click();
      setTimeout(()=>{ URL.revokeObjectURL(a.href); a.remove(); }, 0);
    }catch(e){ alert('PDF download failed.'); console.error(e); }
  }

  async function printPdf(){
    try{
      const blob = await renderToPdfBlob();
      const url = URL.createObjectURL(blob);
      const iframe = document.createElement('iframe');
      iframe.style.position = 'fixed';
      iframe.style.right = '0'; iframe.style.bottom = '0';
      iframe.style.width = '0'; iframe.style.height = '0'; iframe.style.border = '0';
      document.body.appendChild(iframe);
      iframe.src = url;
      iframe.onload = () => {
        setTimeout(()=>{
          iframe.contentWindow.focus();
          iframe.contentWindow.print();
          setTimeout(()=>{ URL.revokeObjectURL(url); iframe.remove(); }, 1000);
        }, 250);
      };
    }catch(e){ alert('Printing failed.'); console.error(e); }
  }

  document.getElementById('btn-download').addEventListener('click', (e)=>{ e.preventDefault(); downloadPdf(); });
  document.getElementById('btn-print').addEventListener('click', (e)=>{ e.preventDefault(); printPdf(); });

  // Hide broken thumbnails (defensive).
  document.querySelectorAll('.card__icon img').forEach(img=>{
    img.addEventListener('error',()=>{ img.style.display='none'; });
  });
</script>
</body>
</html>
